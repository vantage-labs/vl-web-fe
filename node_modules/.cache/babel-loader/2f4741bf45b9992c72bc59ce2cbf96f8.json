{"ast":null,"code":"import { useMotionValueEvent } from '../utils/use-motion-value-event.mjs';\nimport { useMotionValue } from './use-motion-value.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n/**\n * Creates a `MotionValue` that updates when the velocity of the provided `MotionValue` changes.\n *\n * ```javascript\n * const x = useMotionValue(0)\n * const xVelocity = useVelocity(x)\n * const xAcceleration = useVelocity(xVelocity)\n * ```\n *\n * @public\n */\n\nfunction useVelocity(value) {\n  var velocity = useMotionValue(value.getVelocity());\n\n  var updateVelocity = function updateVelocity() {\n    var latest = value.getVelocity();\n    velocity.set(latest);\n    /**\n     * If we still have velocity, schedule an update for the next frame\n     * to keep checking until it is zero.\n     */\n\n    if (latest) frame.update(updateVelocity);\n  };\n\n  useMotionValueEvent(value, \"change\", function () {\n    // Schedule an update to this value at the end of the current frame.\n    frame.update(updateVelocity, false, true);\n  });\n  return velocity;\n}\n\nexport { useVelocity };","map":{"version":3,"sources":["/home/bahari/vl-web-fe/node_modules/framer-motion/dist/es/value/use-velocity.mjs"],"names":["useMotionValueEvent","useMotionValue","frame","useVelocity","value","velocity","getVelocity","updateVelocity","latest","set","update"],"mappings":"AAAA,SAASA,mBAAT,QAAoC,qCAApC;AACA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,KAAT,QAAsB,wBAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACxB,MAAMC,QAAQ,GAAGJ,cAAc,CAACG,KAAK,CAACE,WAAN,EAAD,CAA/B;;AACA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzB,QAAMC,MAAM,GAAGJ,KAAK,CAACE,WAAN,EAAf;AACAD,IAAAA,QAAQ,CAACI,GAAT,CAAaD,MAAb;AACA;AACR;AACA;AACA;;AACQ,QAAIA,MAAJ,EACIN,KAAK,CAACQ,MAAN,CAAaH,cAAb;AACP,GATD;;AAUAP,EAAAA,mBAAmB,CAACI,KAAD,EAAQ,QAAR,EAAkB,YAAM;AACvC;AACAF,IAAAA,KAAK,CAACQ,MAAN,CAAaH,cAAb,EAA6B,KAA7B,EAAoC,IAApC;AACH,GAHkB,CAAnB;AAIA,SAAOF,QAAP;AACH;;AAED,SAASF,WAAT","sourcesContent":["import { useMotionValueEvent } from '../utils/use-motion-value-event.mjs';\nimport { useMotionValue } from './use-motion-value.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\n * Creates a `MotionValue` that updates when the velocity of the provided `MotionValue` changes.\n *\n * ```javascript\n * const x = useMotionValue(0)\n * const xVelocity = useVelocity(x)\n * const xAcceleration = useVelocity(xVelocity)\n * ```\n *\n * @public\n */\nfunction useVelocity(value) {\n    const velocity = useMotionValue(value.getVelocity());\n    const updateVelocity = () => {\n        const latest = value.getVelocity();\n        velocity.set(latest);\n        /**\n         * If we still have velocity, schedule an update for the next frame\n         * to keep checking until it is zero.\n         */\n        if (latest)\n            frame.update(updateVelocity);\n    };\n    useMotionValueEvent(value, \"change\", () => {\n        // Schedule an update to this value at the end of the current frame.\n        frame.update(updateVelocity, false, true);\n    });\n    return velocity;\n}\n\nexport { useVelocity };\n"]},"metadata":{},"sourceType":"module"}