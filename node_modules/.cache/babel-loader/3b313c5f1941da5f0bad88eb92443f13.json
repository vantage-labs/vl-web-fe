{"ast":null,"code":"import { getDocument } from 'ssr-window';\nimport { createElement, elementOffset, nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar(_ref) {\n  var swiper = _ref.swiper,\n      extendParams = _ref.extendParams,\n      on = _ref.on,\n      emit = _ref.emit;\n  var document = getDocument();\n  var isTouched = false;\n  var timeout = null;\n  var dragTimeout = null;\n  var dragStartPos;\n  var dragSize;\n  var trackSize;\n  var divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: \"swiper-scrollbar-horizontal\",\n      verticalClass: \"swiper-scrollbar-vertical\"\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate;\n    var dragEl = scrollbar.dragEl,\n        el = scrollbar.el;\n    var params = swiper.params.scrollbar;\n    var progress = swiper.params.loop ? swiper.progressLoop : swiper.progress;\n    var newSize = dragSize;\n    var newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      dragEl.style.transform = \"translate3d(\".concat(newPos, \"px, 0, 0)\");\n      dragEl.style.width = \"\".concat(newSize, \"px\");\n    } else {\n      dragEl.style.transform = \"translate3d(0px, \".concat(newPos, \"px, 0)\");\n      dragEl.style.height = \"\".concat(newSize, \"px\");\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      el.style.opacity = 1;\n      timeout = setTimeout(function () {\n        el.style.opacity = 0;\n        el.style.transitionDuration = '400ms';\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.dragEl.style.transitionDuration = \"\".concat(duration, \"ms\");\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar;\n    var dragEl = scrollbar.dragEl,\n        el = scrollbar.el;\n    dragEl.style.width = '';\n    dragEl.style.height = '';\n    trackSize = swiper.isHorizontal() ? el.offsetWidth : el.offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      dragEl.style.width = \"\".concat(dragSize, \"px\");\n    } else {\n      dragEl.style.height = \"\".concat(dragSize, \"px\");\n    }\n\n    if (divider >= 1) {\n      el.style.display = 'none';\n    } else {\n      el.style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      el.style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.el.classList[swiper.isLocked ? 'add' : 'remove'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    return swiper.isHorizontal() ? e.clientX : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate;\n    var el = scrollbar.el;\n    var positionRatio;\n    positionRatio = (getPointerPosition(e) - elementOffset(el)[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    var position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        wrapperEl = swiper.wrapperEl;\n    var el = scrollbar.el,\n        dragEl = scrollbar.dragEl;\n    isTouched = true;\n    dragStartPos = e.target === dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    wrapperEl.style.transitionDuration = '100ms';\n    dragEl.style.transitionDuration = '100ms';\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    el.style.transitionDuration = '0ms';\n\n    if (params.hide) {\n      el.style.opacity = 1;\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style['scroll-snap-type'] = 'none';\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    var scrollbar = swiper.scrollbar,\n        wrapperEl = swiper.wrapperEl;\n    var el = scrollbar.el,\n        dragEl = scrollbar.dragEl;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    wrapperEl.style.transitionDuration = '0ms';\n    el.style.transitionDuration = '0ms';\n    dragEl.style.transitionDuration = '0ms';\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        wrapperEl = swiper.wrapperEl;\n    var el = scrollbar.el;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style['scroll-snap-type'] = '';\n      wrapperEl.style.transitionDuration = '';\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(function () {\n        el.style.opacity = 0;\n        el.style.transitionDuration = '400ms';\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    var scrollbar = swiper.scrollbar,\n        params = swiper.params;\n    var el = scrollbar.el;\n    if (!el) return;\n    var target = el;\n    var activeListener = params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    var eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n    target[eventMethod]('pointerdown', onDragStart, activeListener);\n    document[eventMethod]('pointermove', onDragMove, activeListener);\n    document[eventMethod]('pointerup', onDragEnd, passiveListener);\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    var scrollbar = swiper.scrollbar,\n        swiperEl = swiper.el;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    var params = swiper.params.scrollbar;\n    if (!params.el) return;\n    var el;\n\n    if (typeof params.el === 'string' && swiper.isElement) {\n      el = swiper.el.shadowRoot.querySelector(params.el);\n    }\n\n    if (!el && typeof params.el === 'string') {\n      el = document.querySelectorAll(params.el);\n    } else if (!el) {\n      el = params.el;\n    }\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && el.length > 1 && swiperEl.querySelectorAll(params.el).length === 1) {\n      el = swiperEl.querySelector(params.el);\n    }\n\n    if (el.length > 0) el = el[0];\n    el.classList.add(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    var dragEl;\n\n    if (el) {\n      dragEl = el.querySelector(\".\".concat(swiper.params.scrollbar.dragClass));\n\n      if (!dragEl) {\n        dragEl = createElement('div', swiper.params.scrollbar.dragClass);\n        el.append(dragEl);\n      }\n    }\n\n    Object.assign(scrollbar, {\n      el: el,\n      dragEl: dragEl\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if (el) {\n      el.classList[swiper.enabled ? 'remove' : 'add'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    var params = swiper.params.scrollbar;\n    var el = swiper.scrollbar.el;\n\n    if (el) {\n      el.classList.remove(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', function () {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', function () {\n    updateSize();\n  });\n  on('setTranslate', function () {\n    setTranslate();\n  });\n  on('setTransition', function (_s, duration) {\n    setTransition(duration);\n  });\n  on('enable disable', function () {\n    var el = swiper.scrollbar.el;\n\n    if (el) {\n      el.classList[swiper.enabled ? 'remove' : 'add'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', function () {\n    destroy();\n  });\n\n  var enable = function enable() {\n    swiper.el.classList.remove(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.el) {\n      swiper.scrollbar.el.classList.remove(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  var disable = function disable() {\n    swiper.el.classList.add(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.el) {\n      swiper.scrollbar.el.classList.add(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable: enable,\n    disable: disable,\n    updateSize: updateSize,\n    setTranslate: setTranslate,\n    init: init,\n    destroy: destroy\n  });\n}","map":{"version":3,"sources":["/home/bahari/vl-web-fe/node_modules/swiper/modules/scrollbar/scrollbar.js"],"names":["getDocument","createElement","elementOffset","nextTick","createElementIfNotDefined","Scrollbar","swiper","extendParams","on","emit","document","isTouched","timeout","dragTimeout","dragStartPos","dragSize","trackSize","divider","scrollbar","el","hide","draggable","snapOnRelease","lockClass","dragClass","scrollbarDisabledClass","horizontalClass","verticalClass","dragEl","setTranslate","params","rtl","rtlTranslate","progress","loop","progressLoop","newSize","newPos","isHorizontal","style","transform","width","height","clearTimeout","opacity","setTimeout","transitionDuration","setTransition","duration","updateSize","offsetWidth","offsetHeight","size","virtualSize","slidesOffsetBefore","centeredSlides","snapGrid","parseInt","display","watchOverflow","enabled","classList","isLocked","getPointerPosition","e","clientX","clientY","setDragPosition","positionRatio","Math","max","min","position","minTranslate","maxTranslate","updateProgress","updateActiveIndex","updateSlidesClasses","onDragStart","wrapperEl","target","getBoundingClientRect","preventDefault","stopPropagation","cssMode","onDragMove","returnValue","onDragEnd","slideToClosest","events","method","activeListener","passiveListeners","passive","capture","passiveListener","eventMethod","enableDraggable","disableDraggable","init","swiperEl","originalParams","isElement","shadowRoot","querySelector","querySelectorAll","uniqueNavElements","length","add","append","Object","assign","destroy","remove","disable","_s","enable"],"mappings":"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","sourcesContent":["import { getDocument } from 'ssr-window';\nimport { createElement, elementOffset, nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null\n  };\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      dragEl,\n      el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    const progress = swiper.params.loop ? swiper.progressLoop : swiper.progress;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n    if (rtl) {\n      newPos = -newPos;\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n    if (swiper.isHorizontal()) {\n      dragEl.style.transform = `translate3d(${newPos}px, 0, 0)`;\n      dragEl.style.width = `${newSize}px`;\n    } else {\n      dragEl.style.transform = `translate3d(0px, ${newPos}px, 0)`;\n      dragEl.style.height = `${newSize}px`;\n    }\n    if (params.hide) {\n      clearTimeout(timeout);\n      el.style.opacity = 1;\n      timeout = setTimeout(() => {\n        el.style.opacity = 0;\n        el.style.transitionDuration = '400ms';\n      }, 1000);\n    }\n  }\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.dragEl.style.transitionDuration = `${duration}ms`;\n  }\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      dragEl,\n      el\n    } = scrollbar;\n    dragEl.style.width = '';\n    dragEl.style.height = '';\n    trackSize = swiper.isHorizontal() ? el.offsetWidth : el.offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n    if (swiper.isHorizontal()) {\n      dragEl.style.width = `${dragSize}px`;\n    } else {\n      dragEl.style.height = `${dragSize}px`;\n    }\n    if (divider >= 1) {\n      el.style.display = 'none';\n    } else {\n      el.style.display = '';\n    }\n    if (swiper.params.scrollbar.hide) {\n      el.style.opacity = 0;\n    }\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.el.classList[swiper.isLocked ? 'add' : 'remove'](swiper.params.scrollbar.lockClass);\n    }\n  }\n  function getPointerPosition(e) {\n    return swiper.isHorizontal() ? e.clientX : e.clientY;\n  }\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - elementOffset(el)[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      wrapperEl\n    } = swiper;\n    const {\n      el,\n      dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    wrapperEl.style.transitionDuration = '100ms';\n    dragEl.style.transitionDuration = '100ms';\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    el.style.transitionDuration = '0ms';\n    if (params.hide) {\n      el.style.opacity = 1;\n    }\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style['scroll-snap-type'] = 'none';\n    }\n    emit('scrollbarDragStart', e);\n  }\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      wrapperEl\n    } = swiper;\n    const {\n      el,\n      dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    wrapperEl.style.transitionDuration = '0ms';\n    el.style.transitionDuration = '0ms';\n    dragEl.style.transitionDuration = '0ms';\n    emit('scrollbarDragMove', e);\n  }\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      wrapperEl\n    } = swiper;\n    const {\n      el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style['scroll-snap-type'] = '';\n      wrapperEl.style.transitionDuration = '';\n    }\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        el.style.opacity = 0;\n        el.style.transitionDuration = '400ms';\n      }, 1000);\n    }\n    emit('scrollbarDragEnd', e);\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n  function events(method) {\n    const {\n      scrollbar,\n      params\n    } = swiper;\n    const el = scrollbar.el;\n    if (!el) return;\n    const target = el;\n    const activeListener = params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n    target[eventMethod]('pointerdown', onDragStart, activeListener);\n    document[eventMethod]('pointermove', onDragMove, activeListener);\n    document[eventMethod]('pointerup', onDragEnd, passiveListener);\n  }\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n  function init() {\n    const {\n      scrollbar,\n      el: swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let el;\n    if (typeof params.el === 'string' && swiper.isElement) {\n      el = swiper.el.shadowRoot.querySelector(params.el);\n    }\n    if (!el && typeof params.el === 'string') {\n      el = document.querySelectorAll(params.el);\n    } else if (!el) {\n      el = params.el;\n    }\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && el.length > 1 && swiperEl.querySelectorAll(params.el).length === 1) {\n      el = swiperEl.querySelector(params.el);\n    }\n    if (el.length > 0) el = el[0];\n    el.classList.add(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let dragEl;\n    if (el) {\n      dragEl = el.querySelector(`.${swiper.params.scrollbar.dragClass}`);\n      if (!dragEl) {\n        dragEl = createElement('div', swiper.params.scrollbar.dragClass);\n        el.append(dragEl);\n      }\n    }\n    Object.assign(scrollbar, {\n      el,\n      dragEl\n    });\n    if (params.draggable) {\n      enableDraggable();\n    }\n    if (el) {\n      el.classList[swiper.enabled ? 'remove' : 'add'](swiper.params.scrollbar.lockClass);\n    }\n  }\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const el = swiper.scrollbar.el;\n    if (el) {\n      el.classList.remove(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n    disableDraggable();\n  }\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      el\n    } = swiper.scrollbar;\n    if (el) {\n      el.classList[swiper.enabled ? 'remove' : 'add'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  const enable = () => {\n    swiper.el.classList.remove(swiper.params.scrollbar.scrollbarDisabledClass);\n    if (swiper.scrollbar.el) {\n      swiper.scrollbar.el.classList.remove(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n    init();\n    updateSize();\n    setTranslate();\n  };\n  const disable = () => {\n    swiper.el.classList.add(swiper.params.scrollbar.scrollbarDisabledClass);\n    if (swiper.scrollbar.el) {\n      swiper.scrollbar.el.classList.add(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n    destroy();\n  };\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}"]},"metadata":{},"sourceType":"module"}