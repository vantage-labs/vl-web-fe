{"ast":null,"code":"\"use client\";\n\nvar _toConsumableArray = require(\"/home/bahari/vl-web-fe/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\n\nvar _defineProperty = require(\"/home/bahari/vl-web-fe/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\n\nvar _slicedToArray = require(\"/home/bahari/vl-web-fe/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nfunction ___$insertStyle(css) {\n  if (!css || typeof window === 'undefined') {\n    return;\n  }\n\n  var style = document.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  document.head.appendChild(style);\n  return css;\n}\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n___$insertStyle(\".rfm-marquee-container {\\n  overflow-x: hidden;\\n  display: flex;\\n  flex-direction: row;\\n  position: relative;\\n  width: var(--width);\\n  transform: var(--transform);\\n}\\n.rfm-marquee-container:hover div {\\n  animation-play-state: var(--pause-on-hover);\\n}\\n.rfm-marquee-container:active div {\\n  animation-play-state: var(--pause-on-click);\\n}\\n\\n.rfm-overlay {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n.rfm-overlay::before, .rfm-overlay::after {\\n  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));\\n  content: \\\"\\\";\\n  height: 100%;\\n  position: absolute;\\n  width: var(--gradient-width);\\n  z-index: 2;\\n  pointer-events: none;\\n  touch-action: none;\\n}\\n.rfm-overlay::after {\\n  right: 0;\\n  top: 0;\\n  transform: rotateZ(180deg);\\n}\\n.rfm-overlay::before {\\n  left: 0;\\n  top: 0;\\n}\\n\\n.rfm-marquee {\\n  flex: 0 0 auto;\\n  min-width: var(--min-width);\\n  z-index: 1;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);\\n  animation-play-state: var(--play);\\n  animation-delay: var(--delay);\\n  animation-direction: var(--direction);\\n}\\n@keyframes scroll {\\n  0% {\\n    transform: translateX(0%);\\n  }\\n  100% {\\n    transform: translateX(-100%);\\n  }\\n}\\n\\n.rfm-initial-child-container {\\n  flex: 0 0 auto;\\n  display: flex;\\n  min-width: auto;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n\\n.rfm-child {\\n  transform: var(--transform);\\n}\");\n\nvar Marquee = React.forwardRef(function Marquee(_ref, ref) {\n  var _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      _ref$autoFill = _ref.autoFill,\n      autoFill = _ref$autoFill === void 0 ? false : _ref$autoFill,\n      _ref$play = _ref.play,\n      play = _ref$play === void 0 ? true : _ref$play,\n      _ref$pauseOnHover = _ref.pauseOnHover,\n      pauseOnHover = _ref$pauseOnHover === void 0 ? false : _ref$pauseOnHover,\n      _ref$pauseOnClick = _ref.pauseOnClick,\n      pauseOnClick = _ref$pauseOnClick === void 0 ? false : _ref$pauseOnClick,\n      _ref$direction = _ref.direction,\n      direction = _ref$direction === void 0 ? \"left\" : _ref$direction,\n      _ref$speed = _ref.speed,\n      speed = _ref$speed === void 0 ? 50 : _ref$speed,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 0 : _ref$delay,\n      _ref$loop = _ref.loop,\n      loop = _ref$loop === void 0 ? 0 : _ref$loop,\n      _ref$gradient = _ref.gradient,\n      gradient = _ref$gradient === void 0 ? false : _ref$gradient,\n      _ref$gradientColor = _ref.gradientColor,\n      gradientColor = _ref$gradientColor === void 0 ? \"white\" : _ref$gradientColor,\n      _ref$gradientWidth = _ref.gradientWidth,\n      gradientWidth = _ref$gradientWidth === void 0 ? 200 : _ref$gradientWidth,\n      onFinish = _ref.onFinish,\n      onCycleComplete = _ref.onCycleComplete,\n      onMount = _ref.onMount,\n      children = _ref.children;\n\n  // React Hooks\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      containerWidth = _React$useState2[0],\n      setContainerWidth = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      marqueeWidth = _React$useState4[0],\n      setMarqueeWidth = _React$useState4[1];\n\n  var _React$useState5 = React.useState(1),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      multiplier = _React$useState6[0],\n      setMultiplier = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      isMounted = _React$useState8[0],\n      setIsMounted = _React$useState8[1];\n\n  var rootRef = React.useRef(null);\n  var containerRef = ref || rootRef;\n  var marqueeRef = React.useRef(null); // Calculate width of container and marquee and set multiplier\n\n  var calculateWidth = React.useCallback(function () {\n    if (marqueeRef.current && containerRef.current) {\n      var containerRect = containerRef.current.getBoundingClientRect();\n      var marqueeRect = marqueeRef.current.getBoundingClientRect();\n      var _containerWidth = containerRect.width;\n      var _marqueeWidth = marqueeRect.width; // Swap width and height if direction is up or down\n\n      if (direction === \"up\" || direction === \"down\") {\n        _containerWidth = containerRect.height;\n        _marqueeWidth = marqueeRect.height;\n      }\n\n      if (autoFill && _containerWidth && _marqueeWidth) {\n        setMultiplier(_marqueeWidth < _containerWidth ? Math.ceil(_containerWidth / _marqueeWidth) : 1);\n      } else {\n        setMultiplier(1);\n      }\n\n      setContainerWidth(_containerWidth);\n      setMarqueeWidth(_marqueeWidth);\n    }\n  }, [autoFill, containerRef, direction]); // Calculate width and multiplier on mount and on window resize\n\n  React.useEffect(function () {\n    if (!isMounted) return;\n    calculateWidth();\n\n    if (marqueeRef.current && containerRef.current) {\n      var resizeObserver = new ResizeObserver(function () {\n        return calculateWidth();\n      });\n      resizeObserver.observe(containerRef.current);\n      resizeObserver.observe(marqueeRef.current);\n      return function () {\n        if (!resizeObserver) return;\n        resizeObserver.disconnect();\n      };\n    }\n  }, [calculateWidth, containerRef, isMounted]); // Recalculate width when children change\n\n  React.useEffect(function () {\n    calculateWidth();\n  }, [calculateWidth, children]);\n  React.useEffect(function () {\n    setIsMounted(true);\n  }, []); // Runs the onMount callback, if it is a function, when Marquee is mounted.\n\n  React.useEffect(function () {\n    if (typeof onMount === \"function\") {\n      onMount();\n    }\n  }, []); // Animation duration\n\n  var duration = React.useMemo(function () {\n    if (autoFill) {\n      return marqueeWidth * multiplier / speed;\n    } else {\n      return marqueeWidth < containerWidth ? containerWidth / speed : marqueeWidth / speed;\n    }\n  }, [autoFill, containerWidth, marqueeWidth, multiplier, speed]);\n  var containerStyle = React.useMemo(function () {\n    var _Object$assign;\n\n    return Object.assign(Object.assign({}, style), (_Object$assign = {}, _defineProperty(_Object$assign, \"--pause-on-hover\", !play || pauseOnHover ? \"paused\" : \"running\"), _defineProperty(_Object$assign, \"--pause-on-click\", !play || pauseOnHover && !pauseOnClick || pauseOnClick ? \"paused\" : \"running\"), _defineProperty(_Object$assign, \"--width\", direction === \"up\" || direction === \"down\" ? \"100vh\" : \"100%\"), _defineProperty(_Object$assign, \"--transform\", direction === \"up\" ? \"rotate(-90deg)\" : direction === \"down\" ? \"rotate(90deg)\" : \"none\"), _Object$assign));\n  }, [style, play, pauseOnHover, pauseOnClick, direction]);\n  var gradientStyle = React.useMemo(function () {\n    var _ref2;\n\n    return _ref2 = {}, _defineProperty(_ref2, \"--gradient-color\", gradientColor), _defineProperty(_ref2, \"--gradient-width\", typeof gradientWidth === \"number\" ? \"\".concat(gradientWidth, \"px\") : gradientWidth), _ref2;\n  }, [gradientColor, gradientWidth]);\n  var marqueeStyle = React.useMemo(function () {\n    var _ref3;\n\n    return _ref3 = {}, _defineProperty(_ref3, \"--play\", play ? \"running\" : \"paused\"), _defineProperty(_ref3, \"--direction\", direction === \"left\" ? \"normal\" : \"reverse\"), _defineProperty(_ref3, \"--duration\", \"\".concat(duration, \"s\")), _defineProperty(_ref3, \"--delay\", \"\".concat(delay, \"s\")), _defineProperty(_ref3, \"--iteration-count\", !!loop ? \"\".concat(loop) : \"infinite\"), _defineProperty(_ref3, \"--min-width\", autoFill ? \"auto\" : \"100%\"), _ref3;\n  }, [play, direction, duration, delay, loop, autoFill]);\n  var childStyle = React.useMemo(function () {\n    return _defineProperty({}, \"--transform\", direction === \"up\" ? \"rotate(90deg)\" : direction === \"down\" ? \"rotate(-90deg)\" : \"none\");\n  }, [direction]); // Render {multiplier} number of children\n\n  var multiplyChildren = React.useCallback(function (multiplier) {\n    return _toConsumableArray(Array(Number.isFinite(multiplier) && multiplier >= 0 ? multiplier : 0)).map(function (_, i) {\n      return React__default['default'].createElement(React.Fragment, {\n        key: i\n      }, React.Children.map(children, function (child) {\n        return React__default['default'].createElement(\"div\", {\n          style: childStyle,\n          className: \"rfm-child\"\n        }, child);\n      }));\n    });\n  }, [childStyle, children]);\n  return !isMounted ? null : React__default['default'].createElement(\"div\", {\n    ref: containerRef,\n    style: containerStyle,\n    className: \"rfm-marquee-container \" + className\n  }, gradient && React__default['default'].createElement(\"div\", {\n    style: gradientStyle,\n    className: \"rfm-overlay\"\n  }), React__default['default'].createElement(\"div\", {\n    className: \"rfm-marquee\",\n    style: marqueeStyle,\n    onAnimationIteration: onCycleComplete,\n    onAnimationEnd: onFinish\n  }, React__default['default'].createElement(\"div\", {\n    className: \"rfm-initial-child-container\",\n    ref: marqueeRef\n  }, React.Children.map(children, function (child) {\n    return React__default['default'].createElement(\"div\", {\n      style: childStyle,\n      className: \"rfm-child\"\n    }, child);\n  })), multiplyChildren(multiplier - 1)), React__default['default'].createElement(\"div\", {\n    className: \"rfm-marquee\",\n    style: marqueeStyle\n  }, multiplyChildren(multiplier)));\n});\nexports.default = Marquee;","map":{"version":3,"mappings":"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","names":["Marquee","forwardRef","ref","style","className","autoFill","play","pauseOnHover","pauseOnClick","direction","speed","delay","loop","gradient","gradientColor","gradientWidth","onFinish","onCycleComplete","onMount","children","useState","containerWidth","setContainerWidth","marqueeWidth","setMarqueeWidth","multiplier","setMultiplier","isMounted","setIsMounted","rootRef","useRef","containerRef","marqueeRef","calculateWidth","useCallback","current","containerRect","getBoundingClientRect","marqueeRect","width","height","Math","ceil","useEffect","resizeObserver","ResizeObserver","observe","disconnect","duration","useMemo","containerStyle","gradientStyle","marqueeStyle","childStyle","multiplyChildren","Array","Number","isFinite","map","_","i","React","Fragment","key","Children","child","onAnimationIteration","onAnimationEnd"],"sources":["/home/bahari/vl-web-fe/node_modules/react-fast-marquee/src/components/Marquee.tsx"],"sourcesContent":["import React, {\n  Fragment,\n  useEffect,\n  useState,\n  useRef,\n  useCallback,\n  useMemo,\n  ReactNode,\n  CSSProperties,\n  FC,\n  forwardRef,\n  Children,\n  MutableRefObject,\n  RefAttributes,\n} from \"react\";\nimport \"./Marquee.scss\";\n\nexport type MarqueeProps = {\n  /**\n   * @description Inline style for the container div\n   * @type {CSSProperties}\n   * @default {}\n   */\n  style?: CSSProperties;\n  /**\n   * @description Class name to style the container div\n   * @type {string}\n   * @default \"\"\n   */\n  className?: string;\n  /**\n   * @description Whether to automatically fill blank space in the marquee with copies of the children or not\n   * @type {boolean}\n   * @default false\n   */\n  autoFill?: boolean;\n  /**\n   * @description Whether to play or pause the marquee\n   * @type {boolean}\n   * @default true\n   */\n  play?: boolean;\n  /**\n   * @description Whether to pause the marquee when hovered\n   * @type {boolean}\n   * @default false\n   */\n  pauseOnHover?: boolean;\n  /**\n   * @description Whether to pause the marquee when clicked\n   * @type {boolean}\n   * @default false\n   */\n  pauseOnClick?: boolean;\n  /**\n   * @description The direction the marquee is sliding\n   * @type {\"left\" | \"right\" | \"up\" | \"down\"}\n   * @default \"left\"\n   */\n  direction?: \"left\" | \"right\" | \"up\" | \"down\";\n  /**\n   * @description Speed calculated as pixels/second\n   * @type {number}\n   * @default 50\n   */\n  speed?: number;\n  /**\n   * @description Duration to delay the animation after render, in seconds\n   * @type {number}\n   * @default 0\n   */\n  delay?: number;\n  /**\n   * @description The number of times the marquee should loop, 0 is equivalent to infinite\n   * @type {number}\n   * @default 0\n   */\n  loop?: number;\n  /**\n   * @description Whether to show the gradient or not\n   * @type {boolean}\n   * @default false\n   */\n  gradient?: boolean;\n  /**\n   * @description The color of the gradient\n   * @type {string}\n   * @default \"white\"\n   */\n  gradientColor?: string;\n  /**\n   * @description The width of the gradient on either side\n   * @type {number | string}\n   * @default 200\n   */\n  gradientWidth?: number | string;\n  /**\n   * @description A callback for when the marquee finishes scrolling and stops. Only calls if loop is non-zero.\n   * @type {() => void}\n   * @default null\n   */\n  onFinish?: () => void;\n  /**\n   * @description A callback for when the marquee finishes a loop. Does not call if maximum loops are reached (use onFinish instead).\n   * @type {() => void}\n   * @default null\n   */\n  onCycleComplete?: () => void;\n  /**\n   * @description: A callback function that is invoked once the marquee has finished mounting. It can be utilized to recalculate the page size, if necessary.\n   * @type {() => void}\n   * @default null\n   */\n  onMount?: () => void;\n  /**\n   * @description The children rendered inside the marquee\n   * @type {ReactNode}\n   * @default null\n   */\n  children?: ReactNode;\n} & RefAttributes<HTMLDivElement>;\n\nconst Marquee: FC<MarqueeProps> = forwardRef(function Marquee(\n  {\n    style = {},\n    className = \"\",\n    autoFill = false,\n    play = true,\n    pauseOnHover = false,\n    pauseOnClick = false,\n    direction = \"left\",\n    speed = 50,\n    delay = 0,\n    loop = 0,\n    gradient = false,\n    gradientColor = \"white\",\n    gradientWidth = 200,\n    onFinish,\n    onCycleComplete,\n    onMount,\n    children,\n  },\n  ref\n) {\n  // React Hooks\n  const [containerWidth, setContainerWidth] = useState(0);\n  const [marqueeWidth, setMarqueeWidth] = useState(0);\n  const [multiplier, setMultiplier] = useState(1);\n  const [isMounted, setIsMounted] = useState(false);\n  const rootRef = useRef<HTMLDivElement>(null);\n  const containerRef = (ref as MutableRefObject<HTMLDivElement>) || rootRef;\n  const marqueeRef = useRef<HTMLDivElement>(null);\n\n  // Calculate width of container and marquee and set multiplier\n  const calculateWidth = useCallback(() => {\n    if (marqueeRef.current && containerRef.current) {\n      const containerRect = containerRef.current.getBoundingClientRect();\n      const marqueeRect = marqueeRef.current.getBoundingClientRect();\n      let containerWidth = containerRect.width;\n      let marqueeWidth = marqueeRect.width;\n\n      // Swap width and height if direction is up or down\n      if (direction === \"up\" || direction === \"down\") {\n        containerWidth = containerRect.height;\n        marqueeWidth = marqueeRect.height;\n      }\n\n      if (autoFill && containerWidth && marqueeWidth) {\n        setMultiplier(\n          marqueeWidth < containerWidth\n            ? Math.ceil(containerWidth / marqueeWidth)\n            : 1\n        );\n      } else {\n        setMultiplier(1);\n      }\n\n      setContainerWidth(containerWidth);\n      setMarqueeWidth(marqueeWidth);\n    }\n  }, [autoFill, containerRef, direction]);\n\n  // Calculate width and multiplier on mount and on window resize\n  useEffect(() => {\n    if (!isMounted) return;\n\n    calculateWidth();\n    if (marqueeRef.current && containerRef.current) {\n      const resizeObserver = new ResizeObserver(() => calculateWidth());\n      resizeObserver.observe(containerRef.current);\n      resizeObserver.observe(marqueeRef.current);\n      return () => {\n        if (!resizeObserver) return;\n        resizeObserver.disconnect();\n      };\n    }\n  }, [calculateWidth, containerRef, isMounted]);\n\n  // Recalculate width when children change\n  useEffect(() => {\n    calculateWidth();\n  }, [calculateWidth, children]);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // Runs the onMount callback, if it is a function, when Marquee is mounted.\n  useEffect(() => {\n    if (typeof onMount === \"function\") {\n      onMount();\n    }\n  }, []);\n\n  // Animation duration\n  const duration = useMemo(() => {\n    if (autoFill) {\n      return (marqueeWidth * multiplier) / speed;\n    } else {\n      return marqueeWidth < containerWidth\n        ? containerWidth / speed\n        : marqueeWidth / speed;\n    }\n  }, [autoFill, containerWidth, marqueeWidth, multiplier, speed]);\n\n  const containerStyle = useMemo(\n    () => ({\n      ...style,\n      [\"--pause-on-hover\" as string]:\n        !play || pauseOnHover ? \"paused\" : \"running\",\n      [\"--pause-on-click\" as string]:\n        !play || (pauseOnHover && !pauseOnClick) || pauseOnClick\n          ? \"paused\"\n          : \"running\",\n      [\"--width\" as string]:\n        direction === \"up\" || direction === \"down\" ? `100vh` : \"100%\",\n      [\"--transform\" as string]:\n        direction === \"up\"\n          ? \"rotate(-90deg)\"\n          : direction === \"down\"\n          ? \"rotate(90deg)\"\n          : \"none\",\n    }),\n    [style, play, pauseOnHover, pauseOnClick, direction]\n  );\n\n  const gradientStyle = useMemo(\n    () => ({\n      [\"--gradient-color\" as string]: gradientColor,\n      [\"--gradient-width\" as string]:\n        typeof gradientWidth === \"number\"\n          ? `${gradientWidth}px`\n          : gradientWidth,\n    }),\n    [gradientColor, gradientWidth]\n  );\n\n  const marqueeStyle = useMemo(\n    () => ({\n      [\"--play\" as string]: play ? \"running\" : \"paused\",\n      [\"--direction\" as string]: direction === \"left\" ? \"normal\" : \"reverse\",\n      [\"--duration\" as string]: `${duration}s`,\n      [\"--delay\" as string]: `${delay}s`,\n      [\"--iteration-count\" as string]: !!loop ? `${loop}` : \"infinite\",\n      [\"--min-width\" as string]: autoFill ? `auto` : \"100%\",\n    }),\n    [play, direction, duration, delay, loop, autoFill]\n  );\n\n  const childStyle = useMemo(\n    () => ({\n      [\"--transform\" as string]:\n        direction === \"up\"\n          ? \"rotate(90deg)\"\n          : direction === \"down\"\n          ? \"rotate(-90deg)\"\n          : \"none\",\n    }),\n    [direction]\n  );\n\n  // Render {multiplier} number of children\n  const multiplyChildren = useCallback(\n    (multiplier: number) => {\n      return [\n        ...Array(\n          Number.isFinite(multiplier) && multiplier >= 0 ? multiplier : 0\n        ),\n      ].map((_, i) => (\n        <Fragment key={i}>\n          {Children.map(children, (child) => {\n            return (\n              <div style={childStyle} className=\"rfm-child\">\n                {child}\n              </div>\n            );\n          })}\n        </Fragment>\n      ));\n    },\n    [childStyle, children]\n  );\n\n  return !isMounted ? null : (\n    <div\n      ref={containerRef}\n      style={containerStyle}\n      className={\"rfm-marquee-container \" + className}\n    >\n      {gradient && <div style={gradientStyle} className=\"rfm-overlay\" />}\n      <div\n        className=\"rfm-marquee\"\n        style={marqueeStyle}\n        onAnimationIteration={onCycleComplete}\n        onAnimationEnd={onFinish}\n      >\n        <div className=\"rfm-initial-child-container\" ref={marqueeRef}>\n          {Children.map(children, (child) => {\n            return (\n              <div style={childStyle} className=\"rfm-child\">\n                {child}\n              </div>\n            );\n          })}\n        </div>\n        {multiplyChildren(multiplier - 1)}\n      </div>\n      <div className=\"rfm-marquee\" style={marqueeStyle}>\n        {multiplyChildren(multiplier)}\n      </div>\n    </div>\n  );\n});\n\nexport default Marquee;\n"]},"metadata":{},"sourceType":"script"}