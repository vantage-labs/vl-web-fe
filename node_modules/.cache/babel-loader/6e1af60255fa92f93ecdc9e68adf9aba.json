{"ast":null,"code":"import _toConsumableArray from \"/home/bahari/vl-web-fe/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nexport var processLazyPreloader = function processLazyPreloader(swiper, imageEl) {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n\n  var slideSelector = function slideSelector() {\n    return swiper.isElement ? \"swiper-slide\" : \".\".concat(swiper.params.slideClass);\n  };\n\n  var slideEl = imageEl.closest(slideSelector());\n\n  if (slideEl) {\n    var lazyEl = slideEl.querySelector(\".\".concat(swiper.params.lazyPreloaderClass));\n    if (lazyEl) lazyEl.remove();\n  }\n};\n\nvar unlazy = function unlazy(swiper, index) {\n  if (!swiper.slides[index]) return;\n  var imageEl = swiper.slides[index].querySelector('[loading=\"lazy\"]');\n  if (imageEl) imageEl.removeAttribute('loading');\n};\n\nexport var preload = function preload(swiper) {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n  var amount = swiper.params.lazyPreloadPrevNext;\n  var len = swiper.slides.length;\n  if (!len || !amount || amount < 0) return;\n  amount = Math.min(amount, len);\n  var slidesPerView = swiper.params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(swiper.params.slidesPerView);\n  var activeIndex = swiper.activeIndex;\n\n  if (swiper.params.grid && swiper.params.grid.rows > 1) {\n    var activeColumn = activeIndex;\n    var preloadColumns = [activeColumn - amount];\n    preloadColumns.push.apply(preloadColumns, _toConsumableArray(Array.from({\n      length: amount\n    }).map(function (_, i) {\n      return activeColumn + slidesPerView + i;\n    })));\n    swiper.slides.forEach(function (slideEl, i) {\n      if (preloadColumns.includes(slideEl.column)) unlazy(swiper, i);\n    });\n    return;\n  }\n\n  var slideIndexLastInView = activeIndex + slidesPerView - 1;\n\n  if (swiper.params.rewind || swiper.params.loop) {\n    for (var i = activeIndex - amount; i <= slideIndexLastInView + amount; i += 1) {\n      var realIndex = (i % len + len) % len;\n      if (realIndex < activeIndex || realIndex > slideIndexLastInView) unlazy(swiper, realIndex);\n    }\n  } else {\n    for (var _i = Math.max(activeIndex - amount, 0); _i <= Math.min(slideIndexLastInView + amount, len - 1); _i += 1) {\n      if (_i !== activeIndex && (_i > slideIndexLastInView || _i < activeIndex)) {\n        unlazy(swiper, _i);\n      }\n    }\n  }\n};","map":{"version":3,"sources":["/home/bahari/vl-web-fe/node_modules/swiper/shared/process-lazy-preloader.js"],"names":["processLazyPreloader","swiper","imageEl","destroyed","params","slideSelector","isElement","slideClass","slideEl","closest","lazyEl","querySelector","lazyPreloaderClass","remove","unlazy","index","slides","removeAttribute","preload","amount","lazyPreloadPrevNext","len","length","Math","min","slidesPerView","slidesPerViewDynamic","ceil","activeIndex","grid","rows","activeColumn","preloadColumns","push","Array","from","map","_","i","forEach","includes","column","slideIndexLastInView","rewind","loop","realIndex","max"],"mappings":";AAAA,OAAO,IAAMA,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,MAAD,EAASC,OAAT,EAAqB;AACvD,MAAI,CAACD,MAAD,IAAWA,MAAM,CAACE,SAAlB,IAA+B,CAACF,MAAM,CAACG,MAA3C,EAAmD;;AACnD,MAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA,WAAMJ,MAAM,CAACK,SAAP,+BAAwCL,MAAM,CAACG,MAAP,CAAcG,UAAtD,CAAN;AAAA,GAAtB;;AACA,MAAMC,OAAO,GAAGN,OAAO,CAACO,OAAR,CAAgBJ,aAAa,EAA7B,CAAhB;;AACA,MAAIG,OAAJ,EAAa;AACX,QAAME,MAAM,GAAGF,OAAO,CAACG,aAAR,YAA0BV,MAAM,CAACG,MAAP,CAAcQ,kBAAxC,EAAf;AACA,QAAIF,MAAJ,EAAYA,MAAM,CAACG,MAAP;AACb;AACF,CARM;;AASP,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACb,MAAD,EAASc,KAAT,EAAmB;AAChC,MAAI,CAACd,MAAM,CAACe,MAAP,CAAcD,KAAd,CAAL,EAA2B;AAC3B,MAAMb,OAAO,GAAGD,MAAM,CAACe,MAAP,CAAcD,KAAd,EAAqBJ,aAArB,CAAmC,kBAAnC,CAAhB;AACA,MAAIT,OAAJ,EAAaA,OAAO,CAACe,eAAR,CAAwB,SAAxB;AACd,CAJD;;AAKA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAjB,MAAM,EAAI;AAC/B,MAAI,CAACA,MAAD,IAAWA,MAAM,CAACE,SAAlB,IAA+B,CAACF,MAAM,CAACG,MAA3C,EAAmD;AACnD,MAAIe,MAAM,GAAGlB,MAAM,CAACG,MAAP,CAAcgB,mBAA3B;AACA,MAAMC,GAAG,GAAGpB,MAAM,CAACe,MAAP,CAAcM,MAA1B;AACA,MAAI,CAACD,GAAD,IAAQ,CAACF,MAAT,IAAmBA,MAAM,GAAG,CAAhC,EAAmC;AACnCA,EAAAA,MAAM,GAAGI,IAAI,CAACC,GAAL,CAASL,MAAT,EAAiBE,GAAjB,CAAT;AACA,MAAMI,aAAa,GAAGxB,MAAM,CAACG,MAAP,CAAcqB,aAAd,KAAgC,MAAhC,GAAyCxB,MAAM,CAACyB,oBAAP,EAAzC,GAAyEH,IAAI,CAACI,IAAL,CAAU1B,MAAM,CAACG,MAAP,CAAcqB,aAAxB,CAA/F;AACA,MAAMG,WAAW,GAAG3B,MAAM,CAAC2B,WAA3B;;AACA,MAAI3B,MAAM,CAACG,MAAP,CAAcyB,IAAd,IAAsB5B,MAAM,CAACG,MAAP,CAAcyB,IAAd,CAAmBC,IAAnB,GAA0B,CAApD,EAAuD;AACrD,QAAMC,YAAY,GAAGH,WAArB;AACA,QAAMI,cAAc,GAAG,CAACD,YAAY,GAAGZ,MAAhB,CAAvB;AACAa,IAAAA,cAAc,CAACC,IAAf,OAAAD,cAAc,qBAASE,KAAK,CAACC,IAAN,CAAW;AAChCb,MAAAA,MAAM,EAAEH;AADwB,KAAX,EAEpBiB,GAFoB,CAEhB,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACf,aAAOP,YAAY,GAAGN,aAAf,GAA+Ba,CAAtC;AACD,KAJsB,CAAT,EAAd;AAKArC,IAAAA,MAAM,CAACe,MAAP,CAAcuB,OAAd,CAAsB,UAAC/B,OAAD,EAAU8B,CAAV,EAAgB;AACpC,UAAIN,cAAc,CAACQ,QAAf,CAAwBhC,OAAO,CAACiC,MAAhC,CAAJ,EAA6C3B,MAAM,CAACb,MAAD,EAASqC,CAAT,CAAN;AAC9C,KAFD;AAGA;AACD;;AACD,MAAMI,oBAAoB,GAAGd,WAAW,GAAGH,aAAd,GAA8B,CAA3D;;AACA,MAAIxB,MAAM,CAACG,MAAP,CAAcuC,MAAd,IAAwB1C,MAAM,CAACG,MAAP,CAAcwC,IAA1C,EAAgD;AAC9C,SAAK,IAAIN,CAAC,GAAGV,WAAW,GAAGT,MAA3B,EAAmCmB,CAAC,IAAII,oBAAoB,GAAGvB,MAA/D,EAAuEmB,CAAC,IAAI,CAA5E,EAA+E;AAC7E,UAAMO,SAAS,GAAG,CAACP,CAAC,GAAGjB,GAAJ,GAAUA,GAAX,IAAkBA,GAApC;AACA,UAAIwB,SAAS,GAAGjB,WAAZ,IAA2BiB,SAAS,GAAGH,oBAA3C,EAAiE5B,MAAM,CAACb,MAAD,EAAS4C,SAAT,CAAN;AAClE;AACF,GALD,MAKO;AACL,SAAK,IAAIP,EAAC,GAAGf,IAAI,CAACuB,GAAL,CAASlB,WAAW,GAAGT,MAAvB,EAA+B,CAA/B,CAAb,EAAgDmB,EAAC,IAAIf,IAAI,CAACC,GAAL,CAASkB,oBAAoB,GAAGvB,MAAhC,EAAwCE,GAAG,GAAG,CAA9C,CAArD,EAAuGiB,EAAC,IAAI,CAA5G,EAA+G;AAC7G,UAAIA,EAAC,KAAKV,WAAN,KAAsBU,EAAC,GAAGI,oBAAJ,IAA4BJ,EAAC,GAAGV,WAAtD,CAAJ,EAAwE;AACtEd,QAAAA,MAAM,CAACb,MAAD,EAASqC,EAAT,CAAN;AACD;AACF;AACF;AACF,CAlCM","sourcesContent":["export const processLazyPreloader = (swiper, imageEl) => {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n  const slideSelector = () => swiper.isElement ? `swiper-slide` : `.${swiper.params.slideClass}`;\n  const slideEl = imageEl.closest(slideSelector());\n  if (slideEl) {\n    const lazyEl = slideEl.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n    if (lazyEl) lazyEl.remove();\n  }\n};\nconst unlazy = (swiper, index) => {\n  if (!swiper.slides[index]) return;\n  const imageEl = swiper.slides[index].querySelector('[loading=\"lazy\"]');\n  if (imageEl) imageEl.removeAttribute('loading');\n};\nexport const preload = swiper => {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n  let amount = swiper.params.lazyPreloadPrevNext;\n  const len = swiper.slides.length;\n  if (!len || !amount || amount < 0) return;\n  amount = Math.min(amount, len);\n  const slidesPerView = swiper.params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(swiper.params.slidesPerView);\n  const activeIndex = swiper.activeIndex;\n  if (swiper.params.grid && swiper.params.grid.rows > 1) {\n    const activeColumn = activeIndex;\n    const preloadColumns = [activeColumn - amount];\n    preloadColumns.push(...Array.from({\n      length: amount\n    }).map((_, i) => {\n      return activeColumn + slidesPerView + i;\n    }));\n    swiper.slides.forEach((slideEl, i) => {\n      if (preloadColumns.includes(slideEl.column)) unlazy(swiper, i);\n    });\n    return;\n  }\n  const slideIndexLastInView = activeIndex + slidesPerView - 1;\n  if (swiper.params.rewind || swiper.params.loop) {\n    for (let i = activeIndex - amount; i <= slideIndexLastInView + amount; i += 1) {\n      const realIndex = (i % len + len) % len;\n      if (realIndex < activeIndex || realIndex > slideIndexLastInView) unlazy(swiper, realIndex);\n    }\n  } else {\n    for (let i = Math.max(activeIndex - amount, 0); i <= Math.min(slideIndexLastInView + amount, len - 1); i += 1) {\n      if (i !== activeIndex && (i > slideIndexLastInView || i < activeIndex)) {\n        unlazy(swiper, i);\n      }\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}