{"ast":null,"code":"import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { frameData } from './frame.mjs';\n\nvar _now;\n\nfunction clearTime() {\n  _now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\n\n\nvar time = {\n  now: function now() {\n    if (_now === undefined) {\n      time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming ? frameData.timestamp : performance.now());\n    }\n\n    return _now;\n  },\n  set: function set(newTime) {\n    _now = newTime;\n    queueMicrotask(clearTime);\n  }\n};\nexport { time };","map":{"version":3,"sources":["/home/bahari/vl-web-fe/node_modules/framer-motion/dist/es/frameloop/sync-time.mjs"],"names":["MotionGlobalConfig","frameData","now","clearTime","undefined","time","set","isProcessing","useManualTiming","timestamp","performance","newTime","queueMicrotask"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,2BAAnC;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,IAAIC,IAAJ;;AACA,SAASC,SAAT,GAAqB;AACjBD,EAAAA,IAAG,GAAGE,SAAN;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAMC,IAAI,GAAG;AACTH,EAAAA,GAAG,EAAE,eAAM;AACP,QAAIA,IAAG,KAAKE,SAAZ,EAAuB;AACnBC,MAAAA,IAAI,CAACC,GAAL,CAASL,SAAS,CAACM,YAAV,IAA0BP,kBAAkB,CAACQ,eAA7C,GACHP,SAAS,CAACQ,SADP,GAEHC,WAAW,CAACR,GAAZ,EAFN;AAGH;;AACD,WAAOA,IAAP;AACH,GARQ;AASTI,EAAAA,GAAG,EAAE,aAACK,OAAD,EAAa;AACdT,IAAAA,IAAG,GAAGS,OAAN;AACAC,IAAAA,cAAc,CAACT,SAAD,CAAd;AACH;AAZQ,CAAb;AAeA,SAASE,IAAT","sourcesContent":["import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { frameData } from './frame.mjs';\n\nlet now;\nfunction clearTime() {\n    now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n    now: () => {\n        if (now === undefined) {\n            time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                ? frameData.timestamp\n                : performance.now());\n        }\n        return now;\n    },\n    set: (newTime) => {\n        now = newTime;\n        queueMicrotask(clearTime);\n    },\n};\n\nexport { time };\n"]},"metadata":{},"sourceType":"module"}