import{useCallback as n,useEffect as t,useState as e,useMemo as r,useRef as o}from"react";import i from"@studio-freight/tempus";import c from"just-debounce-it";function u(e,r){var o=n(function(n){e.current&&!e.current.contains(n.target)&&r()},[e,r]);t(function(){if(e.current)return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o,e])}function a(){var n=e(!1),r=n[0],o=n[1];return t(function(){o(!0)},[]),r}function d(){var n=a();return r(function(){if(n){var t=window.location,e=t.href,r=new URLSearchParams(t.search),o=e.includes("#debug")||e.includes("/_debug")||r.has("debug")||"development"===process.env.NODE_ENV,i=e.includes("#production")||r.has("production");return o&&!i}},[n])}function f(){var n=e(),r=n[0],o=n[1];return t(function(){function n(){o(document.readyState)}return document.addEventListener("readystatechange",n,!1),n(),function(){return document.removeEventListener("readystatechange",n,!1)}},[]),r}function v(n,e){void 0===e&&(e=0),t(function(){if(n)return i.add(n,e),function(){return i.remove(n)}},[n,e])}function s(r,i){var c=void 0===r?{}:r,u=c.root,a=void 0===u?null:u,d=c.rootMargin,f=void 0===d?"0px":d,v=c.threshold,s=void 0===v?0:v,l=c.once,m=void 0!==l&&l,h=c.lazy,w=void 0!==h&&h,p=c.callback,b=void 0===p?function(){}:p;void 0===i&&(i=[]);var g=o({}),y=e({}),z=y[0],E=y[1],L=e(),P=L[0],k=L[1];t(function(){if(P){var n=new IntersectionObserver(function(t){var e=t[0];w?g.current=e:E(e),b(e),m&&e.isIntersecting&&n.disconnect()},{root:a,rootMargin:f,threshold:s});return n.observe(P),function(){n.disconnect()}}},[P,a,f,s,w,m].concat(i));var x=n(function(){return g.current},[]);return[k,w?x:z]}function l(n,e,r){void 0===e&&(e=1e3),void 0===r&&(r=[]),t(function(){var t=setInterval(n,e);return function(){return clearInterval(t)}},[e].concat(r))}function m(){var n=e(),r=n[0],o=n[1];return t(function(){function n(){o("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)}return window.addEventListener("resize",n,!1),n(),function(){window.removeEventListener("resize",n,!1)}},[]),r}function h(n){var r=e(),o=r[0],i=r[1];return t(function(){var t=window.matchMedia(n);function e(){i(t.matches)}return t.addEventListener("change",e,!1),e(),function(){return t.removeEventListener("change",e,!1)}},[n]),o}function w(){return w=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},w.apply(this,arguments)}function p(r,i){var u=void 0===r?{}:r,a=u.lazy,d=void 0!==a&&a,f=u.debounce,v=void 0===f?500:f,s=u.box,l=void 0===s?"border-box":s,m=u.callback,h=void 0===m?function(){}:m;void 0===i&&(i=[]);var w=o({}),p=e({}),b=p[0],g=p[1],y=e(),z=y[0],E=y[1];t(function(){if(z){var n=c(function(n){var t=n[0];w.current=t,h(t),d||g(t)},v,!0),t=new ResizeObserver(n);return t.observe(z,{box:l}),function(){t.disconnect(),n.cancel()}}},[z,d,v,l].concat(i));var L=n(function(){return w.current},[]);return[E,d?L:b]}function b(n){"sticky"===getComputedStyle(n).position&&(n.style.setProperty("position","static"),n.dataset.sticky="true"),n.offsetParent&&b(n.offsetParent)}function g(n){var t;"true"===(null==n||null==(t=n.dataset)?void 0:t.sticky)&&(n.style.removeProperty("position"),n.dataset.sticky="true",delete n.dataset.sticky),n.parentNode&&g(n.parentNode)}function y(n,t){void 0===t&&(t=0);var e=t+n.offsetTop;return n.offsetParent?y(n.offsetParent,e):e}function z(n,t){void 0===t&&(t=0);var e=t+n.offsetLeft;return n.offsetParent?z(n.offsetParent,e):e}function E(r,i){var u=void 0===r?{}:r,a=u.ignoreTransform,d=void 0!==a&&a,f=u.ignoreSticky,v=void 0===f||f,s=u.lazy,l=void 0!==s&&s,m=u.debounce,h=void 0===m?500:m,E=u.resizeDebounce,L=void 0===E?h:E,P=u.callback,k=void 0===P?function(){}:P;void 0===i&&(i=[]);var x=e(),O=x[0],S=x[1],M=e({}),j=M[0],I=M[1],N=o({}),R=p({lazy:!0,debounce:L,callback:function(n){var t=n.borderBoxSize[0].inlineSize,e=n.borderBoxSize[0].blockSize;N.current.width=t,N.current.height=e,k(N.current),l||I(function(n){return w({},n,{width:t,height:e})})}},[l,L].concat(i)),T=R[0];t(function(){if(O){var n=c(function(){var n,t;if(v&&b(O),d)n=y(O),t=z(O);else{var e=O.getBoundingClientRect();n=e.top+window.scrollY,t=e.left+window.scrollX}v&&g(O),N.current.top=n,N.current.left=t,k(N.current),l||I(function(e){return w({},e,{top:n,left:t})})},h,!0),t=new ResizeObserver(n);return t.observe(document.body),function(){t.disconnect(),n.cancel()}}},[O,l,h,d,v].concat(i));var B=n(function(){return N.current},[]);return[function(n){S(n),T(n)},l?B:j]}function L(n,t){void 0===n&&(n=[]),void 0===t&&(t=[]);var e=r(function(){return t&&[t].flat()},[t]),o=r(function(){return n&&[n].flat()},[n]);return r(function(){if(e&&o){var t=o.map(function(n){var t;return null==(t=e.find(function(t){return t.type===n}))?void 0:t.props.children});return n[0]?t:t[0]}},[e,o])}function P(n){void 0===n&&(n=500);var r=e(),o=r[0],i=r[1],u=e(),a=u[0],d=u[1];return t(function(){var t=c(function(){i(Math.min(window.innerWidth,document.documentElement.clientWidth)),d(Math.min(window.innerHeight,document.documentElement.clientHeight))},n,!0);return window.addEventListener("resize",t,!1),t(),function(){return window.removeEventListener("resize",t,!1)}},[n]),{width:o,height:a}}export{d as useDebug,f as useDocumentReadyState,v as useFrame,s as useIntersectionObserver,l as useInterval,a as useIsClient,m as useIsTouchDevice,h as useMediaQuery,u as useOutsideClickEvent,E as useRect,p as useResizeObserver,L as useSlots,P as useWindowSize};
//# sourceMappingURL=hamo.mjs.map
